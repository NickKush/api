API взаимодействия со сторонними сервисами
==========================================
- [`POST` `C` `/api/oauth/thirdparty/register` Регистрация через сторонние сервисы](#Регистрация-через-сторонние-сервисы)

#### [Уведомления](#Уведомления-1)
- [`thirdpartyLogin` Логин через сторонние сервисы](#Логин-через-сторонние-сервисы)
- [`thirdpartyRegister` Регистрация через сторонние сервисы](#Регистрация-через-сторонние-сервисы-1)

---

### Описание
Методы взаимодействия со сторонними сервисами - Twitch, GoodGame, VK, Google, etc...


#### Регистрация через сторонние сервисы
##### [`POST` `C` `/api/oauth/thirdparty/register`](http://funstream.tv/api/oauth/thirdparty/register)
**запрос**
```ts
{
    name: string; // Имя пользователя
    token: string; // Токен регистрации, полученный соответствующим уведомлением после авторизации пользователя на стороннем сервисе
}
```
**ответ**
```ts
{
    token: string; // Токен пользователя
    current: Object; // Данные пользователя, объект из ответа /api/user/current
}
```
*Работает только на funstream.tv.*  
*Позволяет регистрироваться через Twitch/VK/Google.*  
*Вернёт ошибку если токен авторизации не верен, пользователь с таким именем уже существует или имя пользователя недопустимо.*


# [Уведомления](notification.md)

#### Логин через сторонние сервисы
##### `thirdpartyLogin`
```ts
{
    // Данные логина, ответ /api/user/current
}
```
*[`/api/user/current`](common.md#Данные-текущего-пользователя)*  
*Приходит при успешной авторизации через сторонний сервис.*


#### Регистрация через сторонние сервисы
##### `thirdpartyRegister`
```ts
{
    name: string; // Предлагаемое имя пользователя на основе данных стороннего сервиса
    token: string; // Токен для завершения регистрации
}
```
*Приходит при успешной авторизации через сторонний сервис если нет пользователя к которому привязан этот сервис.*
