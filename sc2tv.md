API Связи с sc2tv 
===============

1. [**Авторизация**](#Авторизация)
  - [`POST` `A` `/api/sc2tv/authUrl` Урл авторизации](#Урл-авторизации)
  - [`POST` `A` `/api/sc2tv/check` Проверить или получить права](#Проверить-права)  
2. [**Донат**](#Донат)
  - [`POST` `A` `/api/sc2tv/donate/fast` Донат значком доллара](#Быстрый-донат)
  - [`POST` `A` `/api/sc2tv/donate` Донат](#Донат)

## Авторизация

Рекомендуется вызывать только если функция доната вернула ошибку авторизации.

#### Урл авторизации
#####[`POST` `A` `/api/sc2tv/authUrl`](http://funstream.tv//api/sc2tv/authUrl)
**запрос пустой**
**ответ**
```js
[
    url: <string> // Урл авторизации на сайте ск2тв
]
```
*Ответ ошибка если пользователь не залогинен.*

####  Проверить или получить права
#####[`POST` `P` `/api/sc2tv/check`](http://funstream.tv//api/sc2tv/check)
**запрос пустой**
**ответ**
```js
{
    result: <bool> // true если доступ разрешен
}
```
*Ответ ошибка если пользователь не залогинен.*
*Так-же вернет ошибку если сайт ск2тв в данный момент недоступен*

## Донат

Если ошибка авторизации - сгенерируйте урл, дайте пользователю перейти по нему, 
и проверьте результат с помощью /api/sc2tv/check

#### Донат значком доллара
#####[`POST` `A` `/api/sc2tv/donate/fast`](http://funstream.tv/api/sc2tv/donate/fast)
**запрос**
```js
{
    streamerId: <int>, // Идентификатор пользователя
}
```
**ответ пустой**
*Ответ ошибка если пользователь не залогинен.*
*Ошибка от ск2тв может быть в случае если пользователь не авторизован,
не является стримером, или у него недостаточно пекоинов на счету.*

#### Донат
#####[`POST` `S` `/api/sc2tv/donate/fast`](http://funstream.tv/api/sc2tv/donate/fast)
**запрос**
```js
{
    streamerId: <int>, // Идентификатор пользователя
    amount: <float>, // Сумма
}
```
**ответ пустой**
*Ответ ошибка если пользователь не залогинен.*
*Ошибка от ск2тв может быть в случае если пользователь не авторизован,
не является стримером, или у него недостаточно пекоинов на счету.*
